
<!-- Modern Navigation Start -->

<header class="site-header" role="banner" aria-label="Site header">
  <div class="header-container">
    <!-- Brand Section -->
    <div class="brand-section">
      {% if page.section-type == "index" %}
        <a href="#page-top" class="brand-link page-scroll" aria-label="Go to top of page">
      {% else %}
        <a href="{{site.baseurl}}/" class="brand-link" aria-label="Go to homepage">
      {% endif %}
        <div class="brand-content">
          {% if site.black-favicon %}
            <img src="{{site.baseurl}}{{ site.black-favicon }}" alt="" class="brand-favicon" aria-hidden="true">
          {% endif %}
          {% if site.logo %}
            <img src="{{site.baseurl}}/{{site.logo}}" alt="{{ site.title }}" class="brand-logo" />
          {% endif %}
          <span class="brand-text">{{ site.title }}</span>
        </div>
      </a>
    </div>

    <!-- Main Navigation -->
    <nav class="main-navigation" role="navigation" aria-label="Main navigation">
      <ul class="nav-list" role="menubar">
        {% if page.section-type == "index" %}
          <!-- Index page navigation -->
          {% for p in site.pages_list %}
            <li class="nav-item" role="none">
              {% if p[1] == "setup-preview" %}
                <a href="{{site.baseurl}}/setup/" class="nav-link" role="menuitem">
                  <span class="nav-text">{{p[0]}}</span>
                </a>
              {% else %}
                <a href="#{{ p[1] }}" class="nav-link page-scroll" role="menuitem">
                  <span class="nav-text">{{p[0]}}</span>
                </a>
              {% endif %}
            </li>
          {% endfor %}
        {% else %}
          <!-- Other pages navigation -->
          {% for p in site.pages_list %}
            <li class="nav-item" role="none">
              {% if p[1] == "latest-post" %}
                {% if page.url == "/blog/index.html" | prepend: {{site.baseurl}} %}
                  <a href="#page" class="nav-link page-scroll" role="menuitem">
                    <span class="nav-text">{{p[0]}}</span>
                  </a>
                {% else %}
                  <a href="{{site.baseurl}}/blog/" class="nav-link" role="menuitem">
                    <span class="nav-text">{{p[0]}}</span>
                  </a>
                {% endif %}
              {% elsif p[1] == "setup-preview" %}
                {% if page.url == "/setup/index.html" | prepend: {{site.baseurl}} %}
                  <a href="#page" class="nav-link page-scroll" role="menuitem">
                    <span class="nav-text">{{p[0]}}</span>
                  </a>
                {% else %}
                  <a href="{{site.baseurl}}/setup/" class="nav-link" role="menuitem">
                    <span class="nav-text">{{p[0]}}</span>
                  </a>
                {% endif %}
              {% else %}
                <a href="{{site.baseurl}}/#{{ p[1] }}" class="nav-link" role="menuitem">
                  <span class="nav-text">{{p[0]}}</span>
                </a>
              {% endif %}
            </li>
          {% endfor %}
        {% endif %}
      </ul>
    </nav>

    <!-- Header Controls -->
    <div class="header-controls">
      <!-- Search Input -->
      <div class="nav-search-container">
        <form class="nav-search-form" onsubmit="return handleNavSearch(event)">
          <input type="text" 
                 id="nav-search-input" 
                 class="nav-search-input" 
                 placeholder="Search..."
                 aria-label="Search blog posts">
          <button type="submit" class="nav-search-button" aria-label="Submit search">
            <i class="fa fa-search"></i>
          </button>
        </form>
      </div>
      
      <!-- Theme Toggle -->
      <button class="theme-toggle-button" 
              aria-label="Toggle between light and dark theme" 
              aria-pressed="false"
              data-theme-toggle>
        <div class="toggle-track">
          <div class="toggle-background"></div>
          <div class="toggle-handle">
            <i class="toggle-icon fa fa-moon" aria-hidden="true"></i>
          </div>
          <div class="toggle-indicators">
            <i class="indicator-moon fa fa-moon" aria-hidden="true"></i>
            <i class="indicator-sun fa fa-sun" aria-hidden="true"></i>
          </div>
        </div>
      </button>

      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" 
              aria-label="Toggle navigation menu" 
              aria-expanded="false"
              aria-controls="mobile-navigation"
              data-mobile-toggle>
        <div class="hamburger">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </div>
      </button>
    </div>
  </div>
  
  <!-- Mobile Navigation Dropdown -->
  <div class="mobile-navigation" id="mobile-navigation" aria-hidden="true">
  <div class="mobile-nav-content">
    <!-- Mobile Search -->
    <div class="mobile-search-container">
      <a href="/search/" class="mobile-search-link" role="menuitem">
        <i class="fa fa-search mobile-search-icon" aria-hidden="true"></i>
        <span class="mobile-search-text">Search Blog</span>
      </a>
    </div>
    
    <nav class="mobile-nav" role="navigation" aria-label="Mobile navigation">
      <ul class="mobile-nav-list" role="menubar">
        {% if page.section-type == "index" %}
          {% for p in site.pages_list %}
            <li class="mobile-nav-item" role="none">
              {% if p[1] == "setup-preview" %}
                <a href="{{site.baseurl}}/setup/" class="mobile-nav-link" role="menuitem">
                  <span class="mobile-nav-text">{{p[0]}}</span>
                </a>
              {% else %}
                <a href="#{{ p[1] }}" class="mobile-nav-link page-scroll" role="menuitem">
                  <span class="mobile-nav-text">{{p[0]}}</span>
                </a>
              {% endif %}
            </li>
          {% endfor %}
        {% else %}
          {% for p in site.pages_list %}
            <li class="mobile-nav-item" role="none">
              {% if p[1] == "latest-post" %}
                {% if page.url == "/blog/index.html" | prepend: {{site.baseurl}} %}
                  <a href="#page" class="mobile-nav-link page-scroll" role="menuitem">
                    <span class="mobile-nav-text">{{p[0]}}</span>
                  </a>
                {% else %}
                  <a href="{{site.baseurl}}/blog/" class="mobile-nav-link" role="menuitem">
                    <span class="mobile-nav-text">{{p[0]}}</span>
                  </a>
                {% endif %}
              {% elsif p[1] == "setup-preview" %}
                {% if page.url == "/setup/index.html" | prepend: {{site.baseurl}} %}
                  <a href="#page" class="mobile-nav-link page-scroll" role="menuitem">
                    <span class="mobile-nav-text">{{p[0]}}</span>
                  </a>
                {% else %}
                  <a href="{{site.baseurl}}/setup/" class="mobile-nav-link" role="menuitem">
                    <span class="mobile-nav-text">{{p[0]}}</span>
                  </a>
                {% endif %}
              {% else %}
                <a href="{{site.baseurl}}/#{{ p[1] }}" class="mobile-nav-link" role="menuitem">
                  <span class="mobile-nav-text">{{p[0]}}</span>
                </a>
              {% endif %}
            </li>
          {% endfor %}
        {% endif %}
      </ul>
    </nav>
  </div>
</div>
</header>

<!-- Modern Navigation End -->
